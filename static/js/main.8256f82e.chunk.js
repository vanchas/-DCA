(this.webpackJsonpDCA=this.webpackJsonpDCA||[]).push([[0],{19:function(e,t,n){},37:function(e,t,n){e.exports=n(51)},42:function(e,t,n){},43:function(e,t,n){},51:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),s=n(11),r=n.n(s),c=(n(42),n(4)),l=n(5),i=n(6),u=n(7),m=n(8),p=(n(43),n(19),function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return(n=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).updateBalanceColor=function(){return Math.sign(n.props.incomesTotalSum-n.props.expensesTotalSum)<=-1?"red":"green"},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"wallet_info_block font-weight-bold"},o.a.createElement("div",{className:"balance alert alert-dark",role:"alert"},"Total balance: \xa0",o.a.createElement("span",{style:{color:this.updateBalanceColor()}},this.props.incomesTotalSum-this.props.expensesTotalSum)),o.a.createElement("div",{className:"month_expenses alert alert-dark text-dark"},"Total expenses: \xa0",o.a.createElement("span",null,this.props.expensesTotalSum)),o.a.createElement("div",{className:"month_income alert alert-dark text-dark"},"Total income: \xa0",o.a.createElement("span",null,this.props.incomesTotalSum)))}}]),t}(a.Component)),d=n(35),f=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"text-secondary border-bottom"},o.a.createElement("b",null,this.props.transaction.sum)," -",o.a.createElement("small",null,o.a.createElement("i",null," ",this.props.transaction.date)),o.a.createElement("br",null),o.a.createElement("small",null,this.props.transaction.comment))}}]),t}(a.Component),h=n(54),y=n(55),b=n(56),v=function(e){var t=e.sumsOfTypesInPercents.map((function(e,t){return o.a.createElement("div",{key:t,className:"bar",style:{width:e+"%"}},isNaN(e)?0:e," %")}));return o.a.createElement("div",null,t)},E=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(i.a)(this,Object(u.a)(t).call(this,e))).expensesSumInput=function(e){n.setState({expenseSum:e.value})},n.expensesCommentInput=function(e){n.setState({expenseComment:e.value})},n.expensesTypeInput=function(e){n.setState({expenseType:e.value})},n.onExpenseAdding=function(){n.props.setNewExpense(n.state.expenseSum,n.state.expenseComment,n.state.selectedOption.value),n.setState({expenseSum:"",expenseComment:"",expenseType:""})},n.setSelectOption=function(e){n.setState({selectedOption:e})},n.updateList=function(e){return n.props.expenses.map((function(t){if(t.type===e)return t.storage.map((function(e){return o.a.createElement(f,{key:Math.random(),transaction:e})}))}))},n.chartValuesCounter=function(){var e=[+n.types[0].amount,+n.types[1].amount,+n.types[2].amount,+n.types[3].amount,+n.types[4].amount],t=e.reduce((function(e,t){return e+t})),a=[Math.round(e[0]/t*100),Math.round(e[1]/t*100),Math.round(e[2]/t*100),Math.round(e[3]/t*100),Math.round(e[4]/t*100)];return[a[0],a[1],a[2],a[3],a[4]]},n.updateTypeAmount=function(e){var t=[];return n.props.expenses.map((function(n){if(n.type===e)return n.storage.map((function(e){return t.push(+e.sum)}))})),n.types.map((function(n){if(n.type===e)return n.amount=t.reduce((function(e,t){return+e+ +t}),0)})),t.reduce((function(e,t){return e+t}),0)},n.options=[{value:"food",label:"Food"},{value:"study",label:"Study"},{value:"fun",label:"Fun"},{value:"medicine",label:"Medicine"},{value:"daily",label:"Daily"}],n.types=[{type:"food",amount:0},{type:"study",amount:0},{type:"fun",amount:0},{type:"medicine",amount:0},{type:"daily",amount:0}],n.state={expenseSum:"",expenseComment:"",expenseType:"",selectedOption:{value:"food",label:"Food"}},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"expenses_block"},o.a.createElement("div",{className:"label-exp-block"},"Expenses"),o.a.createElement("div",{className:"expenses_input"},o.a.createElement("input",{className:"expenses_sum_input form-control",value:this.state.expenseSum,onChange:function(t){return e.expensesSumInput(t.target)},type:"number",placeholder:"expense sum$"}),o.a.createElement(d.a,{options:this.options,onChange:this.setSelectOption,defaultValue:this.state.selectedOption}),o.a.createElement("input",{onChange:function(t){return e.expensesCommentInput(t.target)},className:"expenses_commnet_input form-control",type:"text",value:this.state.expenseComment,placeholder:"commentary"}),o.a.createElement("button",{className:"add btn btn-secondary font-weight-bold",onClick:this.onExpenseAdding},"add")),o.a.createElement(h.a,{className:"accordion",defaultActiveKey:"0"},o.a.createElement(y.a,null,o.a.createElement(y.a.Header,null,o.a.createElement(h.a.Toggle,{as:b.a,variant:"link",eventKey:"0",className:"text-secondary font-weight-bold"},"Food: \xa0",this.updateTypeAmount("food"))),o.a.createElement(h.a.Collapse,{className:"card-collapse",eventKey:"0"},o.a.createElement(y.a.Body,{className:"card-body"},this.updateList("food")))),o.a.createElement(y.a,null,o.a.createElement(y.a.Header,null,o.a.createElement(h.a.Toggle,{as:b.a,variant:"link",eventKey:"1",className:"text-secondary font-weight-bold"},"Study: \xa0",this.updateTypeAmount("study"))),o.a.createElement(h.a.Collapse,{className:"card-collapse",eventKey:"1"},o.a.createElement(y.a.Body,{className:"card-body"},this.updateList("study")))),o.a.createElement(y.a,null,o.a.createElement(y.a.Header,null,o.a.createElement(h.a.Toggle,{as:b.a,variant:"link",eventKey:"2",className:"text-secondary font-weight-bold"},"Fun: \xa0",this.updateTypeAmount("fun"))),o.a.createElement(h.a.Collapse,{className:"card-collapse",eventKey:"2"},o.a.createElement(y.a.Body,{className:"card-body"},this.updateList("fun")))),o.a.createElement(y.a,null,o.a.createElement(y.a.Header,null,o.a.createElement(h.a.Toggle,{as:b.a,variant:"link",eventKey:"3",className:"text-secondary font-weight-bold"},"Medicine: \xa0",this.updateTypeAmount("medicine"))),o.a.createElement(h.a.Collapse,{className:"card-collapse",eventKey:"3"},o.a.createElement(y.a.Body,{className:"card-body"},this.updateList("medicine")))),o.a.createElement(y.a,null,o.a.createElement(y.a.Header,null,o.a.createElement(h.a.Toggle,{as:b.a,variant:"link",eventKey:"4",className:"text-secondary font-weight-bold"},"Daily: \xa0",this.updateTypeAmount("daily"))),o.a.createElement(h.a.Collapse,{className:"card-collapse",eventKey:"4"},o.a.createElement(y.a.Body,{className:"card-body"},this.updateList("daily"))))),o.a.createElement(v,{types:this.options,sumsOfTypesInPercents:this.chartValuesCounter()}))}}]),t}(a.Component),g=n(21),x=n.n(g),N=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(i.a)(this,Object(u.a)(t).call(this,e))).incomeSumInput=function(e){n.setState({incomeSum:e.value})},n.incomeCommentInput=function(e){n.setState({incomeComment:e.value})},n.onIncomeAdding=function(){n.props.setNewIncome(n.state.incomeSum,n.state.incomeComment,x()().format("MMM Do YY")),n.setState({incomeSum:"",incomeComment:""})},n.updateList=function(){if(n.state.filterValue.length){var e=n.props.incomes;return(e=e.filter((function(e){return-1!==e.comment.toLowerCase().search(n.state.filterValue.toLowerCase())}))).map((function(e){return o.a.createElement(f,{key:Math.random(),transaction:e})}))}return n.props.incomes.map((function(e){return o.a.createElement(f,{key:Math.random(),transaction:e})}))},n.setFilterValue=function(e){n.setState({filterValue:e})},n.state={incomeSum:"",incomeComment:"",filterValue:""},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"income_block"},o.a.createElement("div",{className:"label-inc-block"},"Incomes"),o.a.createElement("div",{className:"income_input"},o.a.createElement("input",{className:"income_sum_input form-control",onChange:function(t){return e.incomeSumInput(t.target)},value:this.state.incomeSum,type:"number",placeholder:"income sum$"}),o.a.createElement("button",{className:"btn-add-income btn btn-secondary font-weight-bold",onClick:this.onIncomeAdding},"add"),o.a.createElement("input",{className:"income_comment form-control",type:"text",onChange:function(t){return e.incomeCommentInput(t.target)},value:this.state.incomeComment,placeholder:"commentary"}),o.a.createElement("input",{type:"text",onChange:function(t){return e.setFilterValue(t.target.value)},title:"filter by commentary",className:"income_filter form-control",placeholder:"filter..."})),o.a.createElement("div",{className:"income_list"},this.updateList()))}}]),t}(a.Component),S=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return o.a.createElement("main",{className:"main"},o.a.createElement(p,{incomesTotalSum:this.props.incomesTotalSum,expensesTotalSum:this.props.expensesTotalSum}),o.a.createElement(E,{expenses:this.props.expenses,setNewExpense:this.props.setNewExpense}),o.a.createElement(N,{incomes:this.props.incomes,setNewIncome:this.props.setNewIncome}))}}]),t}(a.Component),O=n(22),w=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(S,{incomes:this.props.incomes,expenses:this.props.expenses,incomesTotalSum:this.props.incomesTotalSum,expensesTotalSum:this.props.expensesTotalSum,setNewExpense:this.props.setNewExpense,setNewIncome:this.props.setNewIncome}))}}]),t}(a.Component),C={setNewExpense:function(e,t,n){return{type:"ADD_EXPENSE",payload:{sum:e,comment:t,type:n}}},setNewIncome:function(e,t,n){return{type:"ADD_INCOME",payload:{sum:e,comment:t,date:n}}}},j=Object(O.b)((function(e){return{expenses:e.expenseReducer.expenses,incomes:e.incomeReducer.incomes,expensesTotalSum:e.expenseReducer.expensesTotalSum,incomesTotalSum:e.incomeReducer.incomesTotalSum}}),C)(w),T=n(17),k=n(28),A=function(e){if(e&&e.toString().trim().length&&Math.sign(+e)>0)return e;console.error("Enter correct value")},I={expenses:[{type:"food",storage:[]},{type:"fun",storage:[]},{type:"medicine",storage:[]},{type:"daily",storage:[]},{type:"study",storage:[]}],expensesTotalSum:0},_=0;function M(e){return _+=+e}var D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_EXPENSE":return A(t.payload.sum)?Object(k.a)({},e,{expensesTotalSum:M(t.payload.sum),expenses:e.expenses.map((function(e){return e.type!==t.payload.type?e:Object(k.a)({},e,{storage:e.storage.concat({sum:t.payload.sum,comment:t.payload.comment,type:t.payload.type,date:x()().format("MMM Do YY")})})}))}):(alert("Enter correct value. It must be a number"),e);default:return e}},L={incomes:[],incomesTotalSum:0},K=0;function B(e){return K+=+e}var R=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_INCOME":return A(t.payload.sum)?Object.assign({},e,{incomes:e.incomes.concat(t.payload),incomesTotalSum:B(t.payload.sum)}):(alert("Enter correct value. It must be a number"),e);default:return e}},V=Object(T.b)({expenseReducer:D,incomeReducer:R}),W=function(){try{var e=localStorage.getItem("state");if(null===e)return;return JSON.parse(e)}catch(t){return}}(),F=Object(T.c)(V,W);F.subscribe((function(){!function(e){try{var t=JSON.stringify(e);localStorage.setItem("state",t)}catch(n){}}(F.getState())}));var P=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return o.a.createElement("header",null,o.a.createElement("h1",{className:"h3 pt-3 mb-0 text-center text-secondary"},o.a.createElement("span",{className:"font-weight-bold"},"D"),"aily",o.a.createElement("span",{className:"font-weight-bold"}," C"),"ash",o.a.createElement("span",{className:"font-weight-bold"}," A"),"ccounting"))}}]),t}(o.a.Component),H=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return o.a.createElement(O.a,{store:F},o.a.createElement("div",{className:"App bg-light h-100"},o.a.createElement(P,null),o.a.createElement(j,{state:F.getState()})))}}]),t}(o.a.Component),J=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Y(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}n(50);r.a.render(o.a.createElement(H,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/DCA",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/DCA","/service-worker.js");J?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):Y(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):Y(t,e)}))}}()}},[[37,1,2]]]);
//# sourceMappingURL=main.8256f82e.chunk.js.map