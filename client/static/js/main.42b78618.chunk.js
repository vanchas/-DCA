(this.webpackJsonpDCA=this.webpackJsonpDCA||[]).push([[0],{15:function(e,t,n){},31:function(e,t,n){e.exports=n(46)},36:function(e,t,n){},37:function(e,t,n){},44:function(e,t,n){},46:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),s=n(9),r=n.n(s),c=(n(36),n(4)),l=n(5),i=n(6),u=n(7),m=(n(37),n(15),function(e){Object(u.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return(e=t.call.apply(t,[this].concat(o))).updateBalanceColor=function(){return Math.sign(e.props.incomesTotalSum-e.props.expensesTotalSum)<=-1?"#7b0000":"#216f21"},e}return Object(l.a)(n,[{key:"render",value:function(){return o.a.createElement("div",{className:"wallet_info_block font-weight-bold"},o.a.createElement("div",{className:"balance alert alert-dark",role:"alert"},"Total balance: \xa0",o.a.createElement("span",{style:{color:this.updateBalanceColor()}},this.props.incomesTotalSum-this.props.expensesTotalSum)),o.a.createElement("div",{className:"month_expenses alert alert-dark text-dark"},"Total expenses: \xa0",o.a.createElement("span",null,this.props.expensesTotalSum)),o.a.createElement("div",{className:"month_income alert alert-dark text-dark"},"Total incomes: \xa0",o.a.createElement("span",null,this.props.incomesTotalSum)))}}]),n}(a.Component)),p=n(29),d=function(e){Object(u.a)(n,e);var t=Object(i.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return o.a.createElement("div",{className:"transaction-item text-secondary border-bottom"},o.a.createElement("b",null,this.props.transaction.sum)," -",o.a.createElement("small",null," ",this.props.transaction.date),o.a.createElement("br",null),o.a.createElement("span",null,this.props.transaction.comment))}}]),n}(a.Component),f=n(49),h=n(50),y=n(51),b=function(e){var t=e.types,n=e.sumsOfTypesInPercents.map((function(e,n){return o.a.createElement("div",{key:n,className:"bar",style:{width:e+"%"}},o.a.createElement("span",{className:"title"},t.map((function(e,t){if(n===t)return e.label}))," "),"\xa0 \xa0",o.a.createElement("span",{className:"percent"}," ",isNaN(e)?"":"".concat(e," %")))}));return o.a.createElement("div",{className:"chart"},n)},v=function(e){Object(u.a)(n,e);var t=Object(i.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).expensesSumInput=function(e){a.setState({expenseSum:e.value})},a.expensesCommentInput=function(e){a.setState({expenseComment:e.value})},a.expensesTypeInput=function(e){a.setState({expenseType:e.value})},a.onExpenseAdding=function(){a.props.setNewExpense(a.state.expenseSum,a.state.expenseComment,a.state.selectedOption.value),a.setState({expenseSum:"",expenseComment:"",expenseType:""})},a.setSelectOption=function(e){a.setState({selectedOption:e})},a.updateList=function(e){return a.props.expenses.map((function(t){if(t.type===e)return t.storage.map((function(e){return o.a.createElement(d,{key:Math.random(),transaction:e})}))}))},a.chartValuesCounter=function(){var e=[+a.types[0].amount,+a.types[1].amount,+a.types[2].amount,+a.types[3].amount,+a.types[4].amount],t=e.reduce((function(e,t){return e+t})),n=[Math.round(e[0]/t*100),Math.round(e[1]/t*100),Math.round(e[2]/t*100),Math.round(e[3]/t*100),Math.round(e[4]/t*100)];return[n[0],n[1],n[2],n[3],n[4]]},a.updateTypeAmount=function(e){var t=[];return a.props.expenses.map((function(n){if(n.type===e)return n.storage.map((function(e){return t.push(+e.sum)}))})),a.types.map((function(n){if(n.type===e)return n.amount=t.reduce((function(e,t){return+e+ +t}),0)})),t.reduce((function(e,t){return e+t}),0)},a.options=[{value:"food",label:"Food"},{value:"study",label:"Study"},{value:"fun",label:"Fun"},{value:"medicine",label:"Medicine"},{value:"daily",label:"Daily"}],a.types=[{type:"food",amount:0},{type:"study",amount:0},{type:"fun",amount:0},{type:"medicine",amount:0},{type:"daily",amount:0}],a.state={expenseSum:"",expenseComment:"",expenseType:"",selectedOption:{value:"food",label:"Food"}},a}return Object(l.a)(n,[{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"expenses_block"},o.a.createElement("div",{className:"label-exp-block"},"Expenses"),o.a.createElement("div",{className:"expenses_input"},o.a.createElement("input",{className:"expenses_sum_input form-control",value:this.state.expenseSum,onChange:function(t){return e.expensesSumInput(t.target)},type:"number",placeholder:"expense sum$"}),o.a.createElement(p.a,{options:this.options,onChange:this.setSelectOption,defaultValue:this.state.selectedOption}),o.a.createElement("input",{onChange:function(t){return e.expensesCommentInput(t.target)},className:"expenses_commnet_input form-control",type:"text",value:this.state.expenseComment,placeholder:"commentary"}),o.a.createElement("button",{className:"add btn btn-secondary font-weight-bold",onClick:this.onExpenseAdding},"add")),o.a.createElement(f.a,{className:"accordion",defaultActiveKey:"0"},o.a.createElement(h.a,null,o.a.createElement(h.a.Header,null,o.a.createElement(f.a.Toggle,{as:y.a,variant:"link",eventKey:"0",className:"type-btn text-secondary font-weight-bold"},"Food: \xa0",this.updateTypeAmount("food"))),o.a.createElement(f.a.Collapse,{className:"card-collapse",eventKey:"0"},o.a.createElement(h.a.Body,{className:"card-body"},this.updateList("food")))),o.a.createElement(h.a,null,o.a.createElement(h.a.Header,null,o.a.createElement(f.a.Toggle,{as:y.a,variant:"link",eventKey:"1",className:"type-btn text-secondary font-weight-bold"},"Study: \xa0",this.updateTypeAmount("study"))),o.a.createElement(f.a.Collapse,{className:"card-collapse",eventKey:"1"},o.a.createElement(h.a.Body,{className:"card-body"},this.updateList("study")))),o.a.createElement(h.a,null,o.a.createElement(h.a.Header,null,o.a.createElement(f.a.Toggle,{as:y.a,variant:"link",eventKey:"2",className:"type-btn text-secondary font-weight-bold"},"Fun: \xa0",this.updateTypeAmount("fun"))),o.a.createElement(f.a.Collapse,{className:"card-collapse",eventKey:"2"},o.a.createElement(h.a.Body,{className:"card-body"},this.updateList("fun")))),o.a.createElement(h.a,null,o.a.createElement(h.a.Header,null,o.a.createElement(f.a.Toggle,{as:y.a,variant:"link",eventKey:"3",className:"type-btn text-secondary font-weight-bold"},"Medicine: \xa0",this.updateTypeAmount("medicine"))),o.a.createElement(f.a.Collapse,{className:"card-collapse",eventKey:"3"},o.a.createElement(h.a.Body,{className:"card-body"},this.updateList("medicine")))),o.a.createElement(h.a,null,o.a.createElement(h.a.Header,null,o.a.createElement(f.a.Toggle,{as:y.a,variant:"link",eventKey:"4",className:"type-btn text-secondary font-weight-bold"},"Daily: \xa0",this.updateTypeAmount("daily"))),o.a.createElement(f.a.Collapse,{className:"card-collapse",eventKey:"4"},o.a.createElement(h.a.Body,{className:"card-body"},this.updateList("daily"))))),o.a.createElement(b,{types:this.options,sumsOfTypesInPercents:this.chartValuesCounter()}))}}]),n}(a.Component),E=n(17),g=n.n(E),x=function(e){Object(u.a)(n,e);var t=Object(i.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).incomeSumInput=function(e){a.setState({incomeSum:e.value})},a.incomeCommentInput=function(e){a.setState({incomeComment:e.value})},a.onIncomeAdding=function(){a.props.setNewIncome(a.state.incomeSum,a.state.incomeComment,g()().format("MMM Do YY")),a.setState({incomeSum:"",incomeComment:""})},a.updateList=function(){if(a.state.filterValue.length){var e=a.props.incomes;return(e=e.filter((function(e){return-1!==e.comment.toLowerCase().search(a.state.filterValue.toLowerCase())}))).map((function(e){return o.a.createElement(d,{key:Math.random(),transaction:e})}))}return a.props.incomes.map((function(e){return o.a.createElement(d,{key:Math.random(),transaction:e})}))},a.setFilterValue=function(e){a.setState({filterValue:e})},a.state={incomeSum:"",incomeComment:"",filterValue:""},a}return Object(l.a)(n,[{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"income_block"},o.a.createElement("div",{className:"label-inc-block"},"Incomes"),o.a.createElement("div",{className:"income_input"},o.a.createElement("input",{className:"income_sum_input form-control",onChange:function(t){return e.incomeSumInput(t.target)},value:this.state.incomeSum,type:"number",placeholder:"income sum$"}),o.a.createElement("button",{className:"add btn-add-income btn btn-secondary font-weight-bold",onClick:this.onIncomeAdding},"add"),o.a.createElement("input",{className:"income_comment form-control",type:"text",onChange:function(t){return e.incomeCommentInput(t.target)},value:this.state.incomeComment,placeholder:"commentary"}),o.a.createElement("input",{type:"text",onChange:function(t){return e.setFilterValue(t.target.value)},title:"filter by commentary",className:"income_filter form-control",placeholder:"filter..."})),o.a.createElement("div",{className:"income_list"},this.updateList()))}}]),n}(a.Component),N=function(e){Object(u.a)(n,e);var t=Object(i.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return o.a.createElement("main",{className:"main"},o.a.createElement(m,{incomesTotalSum:this.props.incomesTotalSum,expensesTotalSum:this.props.expensesTotalSum}),o.a.createElement(v,{expenses:this.props.expenses,setNewExpense:this.props.setNewExpense}),o.a.createElement(x,{incomes:this.props.incomes,setNewIncome:this.props.setNewIncome}))}}]),n}(a.Component),S=n(18),O=function(e){Object(u.a)(n,e);var t=Object(i.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(N,{incomes:this.props.incomes,expenses:this.props.expenses,incomesTotalSum:this.props.incomesTotalSum,expensesTotalSum:this.props.expensesTotalSum,setNewExpense:this.props.setNewExpense,setNewIncome:this.props.setNewIncome}))}}]),n}(a.Component),w={setNewExpense:function(e,t,n){return{type:"ADD_EXPENSE",payload:{sum:e,comment:t,type:n}}},setNewIncome:function(e,t,n){return{type:"ADD_INCOME",payload:{sum:e,comment:t,date:n}}}},C=Object(S.b)((function(e){return{expenses:e.expenseReducer.expenses,incomes:e.incomeReducer.incomes,expensesTotalSum:e.expenseReducer.expensesTotalSum,incomesTotalSum:e.incomeReducer.incomesTotalSum}}),w)(O),j=n(14),T=n(24),k=function(e){try{if(e&&e.toString().trim().length&&Math.sign(+e)>0&&!isNaN(parseFloat(e)))return parseFloat(e);alert("Enter correct value. It must be a number"),console.error("Enter correct value. It must be a number")}catch(t){}},A={expenses:[{type:"food",storage:[]},{type:"fun",storage:[]},{type:"medicine",storage:[]},{type:"daily",storage:[]},{type:"study",storage:[]}],expensesTotalSum:0},I=0;function _(e){return I+=+e}var M=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_EXPENSE":return k(t.payload.sum)?Object(T.a)({},e,{expensesTotalSum:_(t.payload.sum),expenses:e.expenses.map((function(e){return e.type!==t.payload.type?e:Object(T.a)({},e,{storage:e.storage.concat({sum:t.payload.sum,comment:t.payload.comment,type:t.payload.type,date:g()().format("MMM Do YY")})})}))}):e;default:return e}},D={incomes:[],incomesTotalSum:0},L=0;function K(e){return L+=+e}var B=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_INCOME":return k(t.payload.sum)?Object.assign({},e,{incomes:e.incomes.concat(t.payload),incomesTotalSum:K(t.payload.sum)}):e;default:return e}},F=Object(j.b)({expenseReducer:M,incomeReducer:B}),R=function(){try{var e=localStorage.getItem("state");if(null===e)return;return JSON.parse(e)}catch(t){return}}(),V=Object(j.c)(F,R);V.subscribe((function(){!function(e){try{var t=JSON.stringify(e);localStorage.setItem("state",t)}catch(n){}}(V.getState())}));n(44);var W=function(e){Object(u.a)(n,e);var t=Object(i.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return o.a.createElement("header",null,o.a.createElement("h1",{className:"h2 pt-3 mb-0 text-center text-secondary"},o.a.createElement("span",{className:"font-weight-bold"},"D"),"aily",o.a.createElement("span",{className:"font-weight-bold"}," C"),"ash",o.a.createElement("span",{className:"font-weight-bold"}," A"),"ccounting"))}}]),n}(o.a.Component),P=function(e){Object(u.a)(n,e);var t=Object(i.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return o.a.createElement("footer",{className:"page-footer font-small blue"},o.a.createElement("div",{className:"h6 footer-copyright text-dark text-center pt-1 pb-3"},"\xa9 2020 Copyright:",o.a.createElement("a",{className:"text-secondary",href:"https://github.com/vanchas"}," \xa0 github.com/vanchas")))}}]),n}(a.Component),H=function(e){Object(u.a)(n,e);var t=Object(i.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return o.a.createElement(S.a,{store:V},o.a.createElement("div",{className:"App bg-light h-100"},o.a.createElement(W,null),o.a.createElement(C,{state:V.getState()}),o.a.createElement(P,null)))}}]),n}(o.a.Component),J=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Y(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}n(45);r.a.render(o.a.createElement(H,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/DCA",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/DCA","/service-worker.js");J?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):Y(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):Y(t,e)}))}}()}},[[31,1,2]]]);
//# sourceMappingURL=main.42b78618.chunk.js.map